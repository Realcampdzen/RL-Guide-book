/* Мобильная адаптация для Путеводителя "Реального Лагеря" */

/* Базовые настройки для мобильных устройств */
html {
  /* Предотвращаем автоматическое масштабирование шрифтов на iOS */
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Улучшения для шрифтов на мобильных */
@media (max-width: 768px) {
  body {
    font-size: 16px; /* Минимальный размер для предотвращения зума на iOS */
    line-height: 1.5;
  }
  
  h1, h2, h3, h4, h5, h6 {
    line-height: 1.3;
    margin-bottom: 0.5em;
  }
  
  p {
    line-height: 1.6;
    margin-bottom: 1em;
  }
}
@media (max-width: 480px) {
  /* Очень маленькие экраны (смартфоны) */
  
  /* Логотип на главном экране */
  .intro-logo img {
    width: 120px !important;
    height: 120px !important;
  }
  
  .intro-logo {
    top: 10px !important;
    left: 10px !important;
  }
  
  /* Контент главного экрана */
  .intro-content {
    max-width: 95vw !important;
    max-height: 90vh !important;
    padding: 0.8rem !important;
    margin: 0.5rem !important;
    overflow-y: auto !important;
  }
  
  .intro-content h1 {
    font-size: 1.5rem !important;
    line-height: 1.3 !important;
    margin-bottom: 0.8rem !important;
  }
  
  .intro-content p {
    font-size: 0.85rem !important;
    line-height: 1.4 !important;
    margin-bottom: 0.8rem !important;
  }
  
  /* Философская секция */
  .philosophy-main {
    font-size: 0.9rem !important;
    margin-bottom: 1rem !important;
  }
  
  .philosophy-points {
    gap: 0.8rem !important;
  }
  
  .point {
    padding: 0.6rem !important;
    flex-direction: column !important;
    text-align: center !important;
  }
  
  .point-icon {
    font-size: 1.5rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .point div {
    font-size: 0.8rem !important;
    line-height: 1.3 !important;
  }
  
  /* Кнопка старта */
  .start-button {
    padding: 0.8rem 1.5rem !important;
    font-size: 1rem !important;
    min-height: 44px !important; /* Минимальный размер для touch */
    width: 100% !important;
    max-width: 280px !important;
  }
  
  /* Сетки категорий и значков */
  .categories-grid,
  .badges-grid {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
    padding: 0.5rem !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    max-height: calc(100vh - 200px) !important;
  }
  
  .category-container,
  .badge-container {
    width: 100% !important;
    max-width: none !important;
  }
  
  /* Отключаем floating анимацию на мобильных для лучшей производительности */
  .category-container.floating {
    animation: none !important;
  }
  
  /* Адаптация для benefit-item */
  .benefit-item {
    padding: 1rem !important;
    margin-bottom: 1rem !important;
  }
  
  .benefit-item h4 {
    font-size: 1.1rem !important;
    margin-bottom: 0.8rem !important;
  }
  
  .benefit-item p {
    font-size: 0.9rem !important;
    line-height: 1.5 !important;
  }
  
  /* Адаптация для session-info */
  .session-info {
    padding: 1rem !important;
    margin: 1rem 0 !important;
  }
  
  .session-info h4 {
    font-size: 1.1rem !important;
    margin-bottom: 0.8rem !important;
  }
  
  .session-info p {
    font-size: 0.9rem !important;
    line-height: 1.5 !important;
    margin-bottom: 0.6rem !important;
  }
  
  .session-info ul {
    padding-left: 1.5rem !important;
    margin: 0.8rem 0 !important;
  }
  
  .session-info li {
    font-size: 0.9rem !important;
    line-height: 1.4 !important;
    margin-bottom: 0.4rem !important;
  }
  
  /* Адаптация для badge-level */
  .badge-level-screen {
    padding: 1rem !important;
  }
  
  .badge-level {
    padding: 1rem !important;
    margin-bottom: 1rem !important;
  }
  
  .category-card {
    width: 100% !important;
    height: auto !important;
    min-height: 80px !important;
    padding: 1rem !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
  }
  
  /* Заголовки и навигация */
  .header {
    position: sticky !important;
    top: 0 !important;
    z-index: 1000 !important;
    background: rgba(0, 0, 17, 0.9) !important;
    backdrop-filter: blur(10px) !important;
    padding: 1rem !important;
    margin-bottom: 1rem !important;
  }
  
  .header h1 {
    font-size: 1.5rem !important;
    text-align: center !important;
    margin-bottom: 0.5rem !important;
  }
  
  .app-subtitle {
    font-size: 0.9rem !important;
    text-align: center !important;
    margin-bottom: 1rem !important;
  }
  
  /* Улучшения для контента */
  .badge-content,
  .level-content,
  .category-content {
    padding: 1rem !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    max-height: calc(100vh - 150px) !important;
  }
  
  /* Кнопки навигации */
  .back-button {
    padding: 0.6rem 1rem !important;
    font-size: 0.9rem !important;
    min-height: 44px !important;
    margin-bottom: 1rem !important;
  }
  
  /* Контент значков */
  .badge-header,
  .level-header {
    flex-direction: column !important;
    text-align: center !important;
    gap: 0.5rem !important;
  }
  
  .badge-emoji-large {
    font-size: 3rem !important;
  }
  
  .badge-summary {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }
  
  .badge-summary__block {
    padding: 1rem !important;
  }
  
  .badge-summary__text {
    font-size: 0.9rem !important;
    line-height: 1.5 !important;
  }
  
  /* Кнопки действий */
  .hint-button,
  .material-button {
    padding: 0.6rem 1rem !important;
    font-size: 0.9rem !important;
    min-height: 44px !important;
    margin: 0.3rem !important;
  }
}

/* Планшеты и средние экраны */
@media (min-width: 481px) and (max-width: 768px) {
  /* Логотип */
  .intro-logo img {
    width: 150px !important;
    height: 150px !important;
  }
  
  /* Контент */
  .intro-content {
    max-width: 90vw !important;
    padding: 1rem !important;
  }
  
  .intro-content h1 {
    font-size: 2rem !important;
  }
  
  /* Сетки */
  .categories-grid,
  .badges-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 1.5rem !important;
  }
  
  /* Кнопки */
  .start-button,
  .back-button,
  .hint-button,
  .material-button {
    min-height: 44px !important;
  }
}

/* Большие планшеты */
@media (min-width: 769px) and (max-width: 1024px) {
  .categories-grid,
  .badges-grid {
    grid-template-columns: repeat(3, 1fr) !important;
  }
}

/* Улучшения для touch-устройств */
@media (hover: none) and (pointer: coarse) {
  /* Увеличиваем области нажатия для touch */
  .category-card,
  .badge-container,
  .clickable {
    min-height: 44px !important;
    min-width: 44px !important;
  }
  
  /* Убираем hover эффекты на touch устройствах */
  .intro-logo:hover,
  .category-card:hover,
  .badge-container:hover {
    transform: none !important;
  }
  
  /* Добавляем активные состояния для touch */
  .category-card:active,
  .badge-container:active,
  .start-button:active,
  .back-button:active {
    transform: scale(0.95) !important;
    transition: transform 0.1s ease !important;
  }
}

/* Улучшения для ландшафтной ориентации на мобильных */
@media (max-width: 768px) and (orientation: landscape) {
  .intro-content {
    max-height: 95vh !important;
    overflow-y: auto !important;
  }
  
  .intro-content h1 {
    font-size: 1.3rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .philosophy-points {
    flex-direction: row !important;
    gap: 1rem !important;
  }
  
  .point {
    flex: 1 !important;
    padding: 0.5rem !important;
  }
  
  .start-button {
    margin-top: 0.5rem !important;
  }
}

/* Улучшения для очень маленьких экранов */
@media (max-width: 360px) {
  .intro-content h1 {
    font-size: 1.3rem !important;
  }
  
  .intro-content p {
    font-size: 0.8rem !important;
  }
  
  .philosophy-main {
    font-size: 0.85rem !important;
  }
  
  .point div {
    font-size: 0.75rem !important;
  }
  
  .start-button {
    padding: 0.7rem 1.2rem !important;
    font-size: 0.9rem !important;
  }
}

/* Улучшения для высоких экранов (современные смартфоны) */
@media (min-width: 375px) and (max-width: 480px) and (min-height: 667px) {
  .intro-content {
    max-height: 85vh !important;
  }
  
  .intro-content h1 {
    font-size: 1.6rem !important;
  }
  
  .philosophy-main {
    font-size: 0.95rem !important;
  }
}

/* Улучшения для очень широких экранов */
@media (min-width: 414px) and (max-width: 480px) {
  .categories-grid,
  .badges-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 1rem !important;
  }
}

/* Улучшения для скролла на мобильных */
@media (max-width: 768px) {
  body {
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  #root {
    overflow-x: hidden !important;
  }
  
  /* Улучшаем скролл для контента */
  .intro-content,
  .badge-content,
  .level-content {
    -webkit-overflow-scrolling: touch !important;
    scroll-behavior: smooth !important;
  }
}

/* Оптимизация изображений для мобильных */
@media (max-width: 768px) {
  /* Оптимизируем все изображения */
  img {
    max-width: 100% !important;
    height: auto !important;
    object-fit: cover !important;
    object-position: center !important;
  }
  
  /* Специальная оптимизация для иконок категорий */
  .category-1-icon,
  .category-2-icon,
  .category-3-icon,
  .category-4-icon,
  .category-5-icon,
  .category-6-icon,
  .category-7-icon,
  .category-8-icon,
  .category-9-icon,
  .category-10-icon,
  .category-11-icon,
  .category-12-icon,
  .category-13-icon,
  .category-14-icon {
    width: 40px !important;
    height: 40px !important;
    object-fit: contain !important;
  }
  
  /* Оптимизация фоновых изображений */
  .intro-screen {
    background-size: cover !important;
    background-position: center !important;
    background-attachment: scroll !important; /* Убираем fixed для лучшей производительности */
  }
  
  /* Оптимизация изображений в сессиях */
  .session-image {
    max-width: 100% !important;
    height: auto !important;
    max-height: 200px !important;
  }
}

/* Мобильная адаптация для ChatBot и ChatButton */
@media (max-width: 768px) {
  /* ChatButton адаптация */
  .chat-button {
    bottom: 16px !important;
    right: 16px !important;
    left: 16px !important;
    min-width: auto !important;
    width: auto !important;
    padding: 12px 16px !important;
    border-radius: 20px !important;
    font-size: 0.9rem !important;
  }
  
  .chat-button-avatar img {
    width: 32px !important;
    height: 32px !important;
  }
  
  .chat-button-text {
    font-size: 0.9rem !important;
  }
  
  /* ChatBot адаптация */
  .chatbot-overlay {
    padding: 10px !important;
    align-items: flex-end !important;
  }
  
  .chatbot-container {
    width: 100% !important;
    max-width: 100vw !important;
    height: 80vh !important;
    max-height: 600px !important;
    margin-top: 0 !important;
    border-radius: 20px 20px 0 0 !important;
  }
  
  .chatbot-header {
    padding: 12px 16px !important;
    border-radius: 20px 20px 0 0 !important;
  }
  
  .chatbot-avatar img {
    width: 32px !important;
    height: 32px !important;
  }
  
  .chatbot-title {
    font-size: 1rem !important;
  }
  
  .chatbot-subtitle {
    font-size: 0.8rem !important;
  }
  
  .chatbot-messages {
    padding: 12px !important;
  }
  
  .chatbot-input-container {
    padding: 12px 16px !important;
  }
  
  .chatbot-input {
    font-size: 16px !important; /* Предотвращает зум на iOS */
    padding: 12px 16px !important;
  }
  
  .chatbot-send-button {
    width: 40px !important;
    height: 40px !important;
    min-width: 40px !important;
  }
  
  /* Адаптация для дополнительных экранов */
  .registration-form-screen,
  .additional-material-screen,
  .about-camp-screen {
    padding: 1rem !important;
  }
  
  .registration-form-content,
  .additional-material-content,
  .about-camp-content {
    max-width: 100% !important;
    padding: 1rem !important;
    margin: 0 !important;
  }
  
  .additional-materials-buttons {
    flex-direction: column !important;
    gap: 0.8rem !important;
  }
  
  .additional-material-text,
  .about-camp-text {
    font-size: 0.9rem !important;
    line-height: 1.6 !important;
  }
  
  .additional-material-text h1,
  .about-camp-text h1 {
    font-size: 1.5rem !important;
    margin-bottom: 1rem !important;
  }
  
  .additional-material-text h2,
  .about-camp-text h2 {
    font-size: 1.3rem !important;
    margin-bottom: 0.8rem !important;
  }
  
  .additional-material-text h3,
  .about-camp-text h3 {
    font-size: 1.1rem !important;
    margin-bottom: 0.6rem !important;
  }
  
  .additional-material-text h4,
  .about-camp-text h4 {
    font-size: 1rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .additional-material-text p,
  .about-camp-text p {
    margin-bottom: 0.8rem !important;
  }
  
  .additional-material-text ul,
  .additional-material-text ol,
  .about-camp-text ul,
  .about-camp-text ol {
    padding-left: 1.5rem !important;
    margin-bottom: 0.8rem !important;
  }
  
  .additional-material-text li,
  .about-camp-text li {
    margin-bottom: 0.4rem !important;
  }
}

/* Улучшения для доступности на мобильных */
@media (max-width: 768px) {
  /* Увеличиваем контрастность для лучшей читаемости */
  .intro-content p,
  .badge-summary__text,
  .point div {
    color: #f0f0f0 !important;
  }
  
  /* Улучшаем видимость кнопок */
  .start-button,
  .back-button,
  .hint-button,
  .material-button {
    border: 2px solid rgba(255, 255, 255, 0.3) !important;
    background: rgba(0, 0, 0, 0.3) !important;
    backdrop-filter: blur(10px) !important;
  }
  
  .start-button:hover,
  .back-button:hover,
  .hint-button:hover,
  .material-button:hover {
    background: rgba(0, 0, 0, 0.5) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
  }
}
